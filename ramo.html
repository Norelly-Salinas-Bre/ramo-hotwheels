<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TU ramito</title>

  <!-- Fuente bonita -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@600&display=swap" rel="stylesheet">

  <style>
    html,body{
      height:100%;
      margin:0;
      font-family:'Poppins', sans-serif;
      background:#001b39;
      color:#fff;
      overflow:hidden;
    }

    /* Fondo decorativo de estrellas */
    body::before {
      content:"";
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      background: radial-gradient(white, transparent 2px) repeat;
      background-size: 3px 3px;
      opacity:0.3;
      animation: twinkle 6s infinite linear;
    }
    @keyframes twinkle {
      from { transform: translateY(0); }
      to { transform: translateY(-10px); }
    }

    #message{
      position:fixed;
      top:18px;
      left:0;
      right:0;
      text-align:center;
      font-weight:800;
      font-size:clamp(18px,2.6vw,30px);
      z-index:80;
      text-shadow:0 4px 12px rgba(0,0,0,0.7);
      font-family:'Dancing Script', cursive;
      animation: pulseText 2s infinite;
    }
    @keyframes pulseText {
      0%,100%{ opacity:1; }
      50%{ opacity:0.6; }
    }

    .center{
      position:relative;
      width:100%;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* Logo inicial */
    #logo-wrap{
      position:relative;
      z-index:70;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:8px;
    }
    #logo {
      width:min(60vw,380px);
      max-width:400px;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      filter: drop-shadow(0 14px 22px rgba(0,0,0,.6));
      animation: float 3s ease-in-out infinite, glow 2s infinite alternate;
    }
    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes glow {
      from { filter: drop-shadow(0 0 6px #ff9800); }
      to { filter: drop-shadow(0 0 16px #ff3d00); }
    }

    /* Ramo */
    #bouquet{
      position:relative;
      width:700px;
      height:800px;
      display:none;
      z-index:60;
    }
    #bouquet.show{ display:block; }

    #bouquet-base,
    #bouquet-branch{
      width:100%;
      height:100%;
      display:block;
      position:absolute;
      left:0;
      top:0;
      opacity:0;
      transform:translateY(200px);
      pointer-events:none;
      transition:transform 1s ease, opacity 1s ease;
    }
    #bouquet-base{ z-index:10; }
    #bouquet-branch{ z-index:15; }

    #bouquet-base.visible,
    #bouquet-branch.visible{
      opacity:1;
      transform:translateY(0);
    }

    /* Carritos */
    .car{
      position:absolute;
      left:var(--x,50%);
      top:var(--y,50%);
      width:clamp(70px,12vw,130px);
      opacity:0;
      z-index:20;
      transform:translate(-50%,-50%) scale(.6) rotate(var(--rot,0deg)) translateY(200px);
      transition:transform .8s cubic-bezier(.2,.9,.3,1), opacity .6s ease;
      cursor:pointer;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,0.7));
    }
    .car.visible{
      transform: translate(-50%,-50%) scale(1) rotate(var(--rot,0deg)) translateY(0);
      opacity:1;
    }
    .car:active{ transform: translate(-50%,-50%) scale(.95) rotate(var(--rot,0deg)); }

    /* Tarjeta emergente */
    .card{
      position:fixed;
      left:50%;
      top:50%;
      transform:translate(-50%,-50%) scale(.96);
      width:min(86vw,420px);
      background:#fff;
      color:#111;
      border-radius:12px;
      padding:14px;
      box-shadow:0 20px 60px rgba(0,0,0,0.6);
      display:none;
      z-index:120;
      text-align:center;
    }
    .card.visible{ display:block; animation:cardIn .22s ease both; }
    @keyframes cardIn{ from{ opacity:0; transform:translate(-50%,-50%) scale(.94)} to{opacity:1; transform:translate(-50%,-50%) scale(1)} }
    .card img{ width:100%; max-height:220px; object-fit:contain; border-radius:8px; }
    .card p{ margin:12px 0 0; font-weight:700; font-size:16px; color:#111; }
    .btn-close{
      margin-top:10px;
      padding:8px 14px;
      border-radius:10px;
      border:none;
      background:#ff4d6d;
      color:#fff;
      font-weight:700;
      cursor:pointer;
    }

    /* Botón música */
    #btn-music{
      position:fixed;
      bottom:20px;
      right:20px;
      z-index:200;
      background:rgba(255,77,166,0.95);
      border:none;
      border-radius:50%;
      width:55px;
      height:55px;
      font-size:24px;
      cursor:pointer;
      color:white;
      box-shadow:0 6px 16px rgba(0,0,0,0.5);
    }

    /* Responsive */
    @media(max-width:650px){
      #bouquet{ width:95vw; height:auto; }
      .car{ width:clamp(60px,22vw,100px); }
    }
  </style>
</head>

<body>
  <div id="message">✨ Toca para abrir ✨</div>

  <div class="center">
    <!-- Logo inicial -->
    <div id="logo-wrap">
      <img id="logo" src="10.png" alt="Logo (toca para abrir)">
    </div>

    <!-- Ramo -->
    <div id="bouquet">
      <!-- Ramo base -->
      <img id="bouquet-base" src="111.png" alt="Ramo base">
      <!-- Ramito adicional -->
      <img id="bouquet-branch" src="112.png" alt="Ramito decorativo">

      <!-- Carros -->
      <img class="car" src="9.png" alt="car 9" data-msg="Gracias por estar siempre para mi 💕" style="--x:50%; --y:20%; --rot:-5deg;"> 
      <img class="car" src="11.png" alt="car 11" data-msg="A tu lado todo es más bonito 💫" style="--x:65%; --y:28%; --rot:10deg;"> 
      <img class="car" src="22.png" alt="car 22" data-msg="Gracias por hacerme tan feliz ❤️" style="--x:35%; --y:32%; --rot:-15deg;">
      <img class="car" src="33.png" alt="car 33" data-msg="Siempre quiero estar contigooo :)" style="--x:70%; --y:38%; --rot:15deg;"> 
      <img class="car" src="44.png" alt="car 44" data-msg="Eres una de mis personas favoritas ✨" style="--x:42%; --y:40%; --rot:-8deg;">
      <img class="car" src="55.png" alt="car 55" data-msg="Tengo mucha suerte de tenerte" style="--x:55%; --y:45%; --rot:8deg;"> 
      <img class="car" src="66.png" alt="car 66" data-msg="Eres lo más bonito que llegó a mi vida ✨" style="--x:30%; --y:50%; --rot:-20deg;"> 
      <img class="car" src="77.png" alt="car 77" data-msg="Te amo con todo mi corazón 💕" style="--x:70%; --y:55%; --rot:20deg;"> 
      <img class="car" src="88.png" alt="car 88" data-msg="Eres mi mejor compañía 🐷" style="--x:50%; --y:60%; --rot:0deg;">
    </div>
  </div>

  <!-- Botón para música -->
  <button id="btn-music">🎵</button>

  <!-- Reproductor de música -->
  <audio id="audio-music" loop>
    <source src="te_regalo.mp3" type="audio/mpeg">
    Tu navegador no soporta audio.
  </audio>

  <!-- Tarjeta emergente -->
  <div id="card" class="card" role="dialog" aria-hidden="true">
    <img id="card-img" src="" alt="">
    <p id="card-text"></p>
    <button id="card-close" class="btn-close">Cerrar</button>
  </div>

  <script>
    (function(){
      const logoWrap = document.getElementById('logo-wrap');
      const bouquet = document.getElementById('bouquet');
      const bouquetBase = document.getElementById('bouquet-base');
      const bouquetBranch = document.getElementById('bouquet-branch');
      const message = document.getElementById('message');
      const cars = Array.from(document.querySelectorAll('.car'));
      const card = document.getElementById('card');
      const cardImg = document.getElementById('card-img');
      const cardText = document.getElementById('card-text');
      const cardClose = document.getElementById('card-close');

      const btnMusic = document.getElementById('btn-music');
      const audio = document.getElementById('audio-music');
      let musicPlaying = false;

      let opened = false;

      function openBouquet(){
        if(opened) return;
        opened = true;
        logoWrap.style.display = 'none';
        bouquet.classList.add('show');
        message.textContent = "✨ Todo lo bonito para ti ✨";

        cars.forEach((c, i) => {
          setTimeout(() => {
            c.classList.add('visible');
          }, 300 * i + 300);
        });

        setTimeout(() => {
          bouquetBase.classList.add('visible');
          bouquetBranch.classList.add('visible');
        }, cars.length * 300 + 500);
      }

      logoWrap.addEventListener('click', openBouquet);

      cars.forEach(img => {
        function showCard(e) {
          e.stopPropagation();
          cardImg.src = img.src;
          cardText.textContent = img.dataset.msg || '';
          card.classList.add('visible');
        }
        img.addEventListener('click', showCard);
      });

      cardClose.addEventListener('click', () => {
        card.classList.remove('visible');
      });

      document.addEventListener('click', (e) => {
        if(card.classList.contains('visible') && !card.contains(e.target)){
          card.classList.remove('visible');
        }
      });

      // Música
      btnMusic.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!musicPlaying) {
          audio.play().catch(err => console.error("No se pudo reproducir:", err));
          btnMusic.textContent = "🔇";
        } else {
          audio.pause();
          btnMusic.textContent = "🎵";
        }
        musicPlaying = !musicPlaying;
      });
    })();
  </script>
</body>
</html>
